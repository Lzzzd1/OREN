
$(function () {
  // Admin Panel settings

  //****************************
  /* This is for the mini-sidebar if width is less then 1170*/
  //****************************
  var setsidebartype = function () {
    var width =
      window.innerWidth > 0 ? window.innerWidth : this.screen.width;
    if (width < 1199) {
      $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
      $("#main-wrapper").addClass("mini-sidebar");
    } else {
      $("#main-wrapper").attr("data-sidebartype", "full");
      $("#main-wrapper").removeClass("mini-sidebar");
    }
  };
  $(window).ready(setsidebartype);
  $(window).on("resize", setsidebartype);
  //****************************
  /* This is for sidebartoggler*/
  //****************************
  $(".sidebartoggler").on("click", function () {
    $("#main-wrapper").toggleClass("mini-sidebar");
    if ($("#main-wrapper").hasClass("mini-sidebar")) {
      $(".sidebartoggler").prop("checked", !0);
      $("#main-wrapper").attr("data-sidebartype", "mini-sidebar");
    } else {
      $(".sidebartoggler").prop("checked", !1);
      $("#main-wrapper").attr("data-sidebartype", "full");
    }
  });
  $(".sidebartoggler").on("click", function () {
    $("#main-wrapper").toggleClass("show-sidebar");
  });
});
(function () {
  'use strict'

  var forms = document.querySelectorAll('.needs-validation')

  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()

    // Função para atualizar o tema (dark mode ou light mode)
    function updateTheme() {
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const body = document.body;

      const theme = localStorage.getItem('theme');
      if (theme === 'dark') {
        body.classList.add('dark-mode');
        darkModeToggle.textContent = 'Ativar Modo Claro';
      } else {
        body.classList.remove('dark-mode');
        darkModeToggle.textContent = 'Ativar Modo Escuro';
      }
    }

    // Adicionando evento de clique ao botão de dark theme
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    darkModeToggle.addEventListener('click', () => {
      const body = document.body;
      if (body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'light');
      } else {
        localStorage.setItem('theme', 'dark');
      }
      updateTheme();
    });

    // Função para atualizar o estado do degradê da sidebar no LocalStorage
    function updateSidebarDegradeState() {
      const leftSidebar = document.querySelector('.left-sidebar');
      const sidebarDegradeToggle = document.getElementById('sidebar-degrade-toggle');

      if (leftSidebar.classList.contains('sidebar-degrade')) {
        sidebarDegradeToggle.textContent = 'Ativar Degradê';
        localStorage.setItem('sidebar-degrade', 'true');
      } else {
        sidebarDegradeToggle.textContent = 'Tirar Degradê';
        localStorage.removeItem('sidebar-degrade');
      }
    }

    // Adicionando evento de clique ao botão do degradê da sidebar
    const sidebarDegradeToggle = document.getElementById('sidebar-degrade-toggle');
    sidebarDegradeToggle.addEventListener('click', () => {
      const leftSidebar = document.querySelector('.left-sidebar');
      leftSidebar.classList.toggle('sidebar-degrade');
      updateSidebarDegradeState();
    });

    // Verificando o estado do degradê da sidebar ao carregar a página
    document.addEventListener('DOMContentLoaded', () => {
      const sidebarDegrade = localStorage.getItem('sidebar-degrade');
      if (sidebarDegrade === 'true') {
        const leftSidebar = document.querySelector('.left-sidebar');
        leftSidebar.classList.add('sidebar-degrade');
        updateSidebarDegradeState();
      }

      // Chamando a função updateTheme() para aplicar o tema ao carregar a página
      updateTheme();
    });